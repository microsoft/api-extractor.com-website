"use strict";(self.webpackChunkapi_extractor_com=self.webpackChunkapi_extractor_com||[]).push([[9725],{158:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var r=n(6393);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),c=l(n),d=o,h=c["".concat(s,".").concat(d)]||c[d]||u[d]||a;return n?r.createElement(h,i(i({ref:t},m),{},{components:n})):r.createElement(h,i({ref:t},m))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[c]="string"==typeof e?e:o,i[1]=p;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4047:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>h,frontMatter:()=>p,metadata:()=>l,toc:()=>c});var r=n(9122),o=n(2501),a=(n(6393),n(158)),i=["components"],p={title:"ae-forgotten-export"},s=void 0,l={unversionedId:"pages/messages/ae-forgotten-export",id:"pages/messages/ae-forgotten-export",title:"ae-forgotten-export",description:'"The symbol *** needs to be exported by the entry point ***."',source:"@site/docs/pages/messages/ae-forgotten-export.md",sourceDirName:"pages/messages",slug:"/pages/messages/ae-forgotten-export",permalink:"/pages/messages/ae-forgotten-export",draft:!1,editUrl:"https://github.com/microsoft/rushstack-websites/tree/main/websites/api-extractor.com/docs/pages/messages/ae-forgotten-export.md",tags:[],version:"current",frontMatter:{title:"ae-forgotten-export"},sidebar:"docsSidebar",previous:{title:"ae-extra-release-tag",permalink:"/pages/messages/ae-extra-release-tag"},next:{title:"ae-incompatible-release-tags",permalink:"/pages/messages/ae-incompatible-release-tags"}},m={},c=[{value:"Remarks",id:"remarks",level:2},{value:"How to fix",id:"how-to-fix",level:2},{value:"See also",id:"see-also",level:2}],u={toc:c},d="wrapper";function h(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},'"The symbol ',(0,a.kt)("strong",{parentName:"em"},(0,a.kt)("em",{parentName:"strong"}," needs to be exported by the entry point ")),'."')),(0,a.kt)("h2",{id:"remarks"},"Remarks"),(0,a.kt)("p",null,"This message is reported when an exported API refers to another declaration that is not exported."),(0,a.kt)("p",null,"Example:"),(0,a.kt)("p",null,"Suppose your library has ",(0,a.kt)("strong",{parentName:"p"},"./src/index.ts")," as the ",(0,a.kt)("inlineCode",{parentName:"p"},"mainEntryPointFilePath"),", and it contains the following code:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'// uncallable forgotten export\nenum ReportType {\n  Full,\n  Condensed\n}\n\n// forgotten export\ninterface IShowReportOptions {\n  reportTitle: string;\n  validation?: boolean;\n  reportType?: ReportType;\n}\n\n/**\n * Shows a report.\n * @public\n */\nexport function showReport(options: IShowReportOptions): void {}\n\n// Warning: "The symbol "IShowReportOptions" needs to be exported by the entry point src/index.d.ts."\n')),(0,a.kt)("p",null,"In the example above, type signature for ",(0,a.kt)("inlineCode",{parentName:"p"},"showReport()")," refers to an interface ",(0,a.kt)("inlineCode",{parentName:"p"},"IShowReportOptions")," that is not\nexported by the entry point. The interface is missing the ",(0,a.kt)("inlineCode",{parentName:"p"},"export")," keyword. This is valid TypeScript code,\nhowever it poses several problems from the perspective of API design:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Third parties cannot declare the type:")," For example, suppose the consumer of this API wants to make a helper\nfunction ",(0,a.kt)("inlineCode",{parentName:"p"},"getDefaultReportOptions()")," that creates the ",(0,a.kt)("inlineCode",{parentName:"p"},"options")," object. Since they cannot import the\n",(0,a.kt)("inlineCode",{parentName:"p"},"IShowReportOptions")," declaration, there is no easy way for them to annotate the return value of their function.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"The type is awkward to document:")," Since ",(0,a.kt)("inlineCode",{parentName:"p"},"IShowReportOptions")," is not exported, it would not normally be included\nin the API documentation that is generated for this library. Instead, the information would need to be incorporated\nsomehow into the doc comment for ",(0,a.kt)("inlineCode",{parentName:"p"},"showReport()"),", which can be awkward. And what if several different functions\nuse this interface?")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"The API may be uncallable:")," In the case of the ",(0,a.kt)("inlineCode",{parentName:"p"},"ReportType")," enum, since the enum cannot be imported, a consumer\nactually cannot use the members of this enum. Thus, they have no way to specify the\n",(0,a.kt)("inlineCode",{parentName:"p"},"IShowReportOptions.reportType")," value at all. Also, ",(0,a.kt)("inlineCode",{parentName:"p"},"reportType")," is an optional parameter, so this unfortunate\noversight might go unnoticed for a long time before someone finally reports the bug."))),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"ae-forgotten-export")," validation helps you to identify these problems and fix them proactively."),(0,a.kt)("p",null,"Keep in mind that API Extractor models your library as having a single entry point. For example, suppose we moved\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"ReportType")," into another file, and that our ",(0,a.kt)("strong",{parentName:"p"},"./src/index.ts")," imported it using a statement such as\n",(0,a.kt)("inlineCode",{parentName:"p"},"import { ReportType } from './ReportType';"),'. In this case, although the enum is "exported" by\n',(0,a.kt)("strong",{parentName:"p"},"./src/ReportType.ts"),", the ",(0,a.kt)("inlineCode",{parentName:"p"},"ae-forgotten-export")," message will nonetheless be reported; the ",(0,a.kt)("inlineCode",{parentName:"p"},"ReportType")," enum needs\nto be exported by the main entry point."),(0,a.kt)("h2",{id:"how-to-fix"},"How to fix"),(0,a.kt)("p",null,"Use the ",(0,a.kt)("inlineCode",{parentName:"p"},"export")," keyword to export the declaration from the main entry point file (as specified by\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"mainEntryPointFilePath")," setting)."),(0,a.kt)("p",null,"Alternatively, if changing your API signature would be too disruptive, you can simply choose to ignore this message.\nBy default it uses ",(0,a.kt)("inlineCode",{parentName:"p"},"addToApiReportFile")," reporting, which means that it will be written into your API report\nfor tracking purposes. It will not produce a console warning and thus will NOT break your build\n(assuming that you have ",(0,a.kt)("inlineCode",{parentName:"p"},"apiReport.enabled")," set to true)."),(0,a.kt)("h2",{id:"see-also"},"See also"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/pages/configs/api-extractor_json#mainentrypointfilepath"},"mainEntryPointFilePath setting"))))}h.isMDXComponent=!0}}]);